<!DOCTYPE html>
<html lang="en" ng-app="eduit">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Servicios nativos de AngularJS</title>
  </head>  
  <body ng-controller="serviciosNativosController">
    <div ng-if="cargando">
      Esta cargando
    </div>
    <div ng-if="!cargando">
      No esta cargando
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
    <script>
      //var serviciosNativosCtrl = function(model, promesa){
      //}
      //serviciosNativosCtrl.$inject = ["$scope", "$Q"];
      angular.module('eduit', [])
      //.controller('serviciosNativosController', serviciosNativosCtrl);
      .controller('serviciosNativosController', ['$scope', '$q', '$timeout', function(model, $q, $timeout) {
        model.cargando = false;
        var promesa = $q(function(resolve, reject) {
          model.cargando = true;
          debugger
          $timeout(function(){
            debugger
            resolve(true);
            // reject("error simulado")
          }, 3000)
        });
        
        promesa
          .then(function(data){
            if(data){
              return "Bienvenido";
            }
            return "No sos bienvenido!";
          })
          .then(function(data) {
          debugger
        }).catch(function(err){
          debugger
        }).finally(function(){
          debugger
          model.cargando = false;
        })
      }]);
      
    </script>
  </body>
</html>
